function hide_compact_header(){$("#branding").hide(),$("#header-nav").removeClass("align-right").addClass("align-center")}function show_compact_header(){$("#branding").fadeIn(800),$("#header-nav").removeClass("align-center").addClass("align-right")}function remove_main_header(e){e.delay(1e3).queue(function(){e.remove()})}document.addEventListener("readystatechange",function(e){if("interactive"===document.readyState){var a=this.querySelector("#main-header"),n=this.querySelector("#header-nav");if((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<768){this.querySelector("#nav-burger");$.when(n.classList.add("burger")).done(n.style.visibility="visible")}else n.style.visibility="visible";"/"!=window.location.pathname||sessionStorage.getItem("main-header")||(hide_compact_header(),$.when(a.classList.remove("hidden")).done($("#main-header .site-branding").addClass("visible")),sessionStorage.setItem("main-header",a.id))}}),document.addEventListener("DOMContentLoaded",function(){var e=$("#header-nav"),a=$("#nav-burger"),n=$("#main-header"),i=$("#scroll-up"),t=$("#site-search-modal"),o=$("#back-to-top");inView("article").on("enter",e=>{e.classList.add("visible")}),inView("#main-header").on("exit",e=>{show_compact_header(),e.remove()}),$(window).scroll(function(){o.topBtnToggle({scrollTrigger:1e3})}),$('a[href^="#"]').on("click",function(i){i.preventDefault();var t=$(this).attr("href");if("/"==window.location.pathname&&""==window.location.search){$(t).hasClass("animate")&&$(t).removeClass("animate"),e.hasClass("burger")&&a.click();var o=$(t).offset().top;$("html, body").animate({scrollTop:o},500+o/4),remove_main_header(n)}else location.replace("/"+t)}),a.on("click",function(e){a.toggleClass("active"),$("#menu-top").toggleClass("active"),$(document.body).toggleClass("modal")}),$(document).on("keyup",function(e){e.preventDefault(),27==e.keyCode&&t.is(":visible")?t.fadeToggle(300):27==e.keyCode&&a.hasClass("active")&&a.click()}),$(window).on("resize",function(a){$(this).width()<768?e.addClass("burger"):e.removeClass("burger")}),$("#searchform-close").on("click",function(e){var a=t.find("#s");a.val()?a.val(""):t.fadeToggle(300)}),$("#nav-search").on("click",function(e){!t.attr("display","none")&&t.find("#s").val()?$("#searchform").submit():t.fadeToggle(300)}),$("#searchform").on("submit",function(e){}),o.on("click",function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},800)}),i.on("click",function(e){n.children(".site-branding").removeClass("visible").delay(1e3).queue(function(){n.slideUp(800)}).queue(function(){remove_main_header(n)})}),navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)&&($("html").addClass("ios"),$("html").addClass("mobile")),navigator.userAgent.search("MSIE")>=0?$("html").addClass("ie"):navigator.userAgent.search("Chrome")>=0?$("html").addClass("chrome"):navigator.userAgent.search("Firefox")>=0?$("html").addClass("firefox"):navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0?$("html").addClass("safari"):navigator.userAgent.search("Opera")>=0&&$("html").addClass("opera")});