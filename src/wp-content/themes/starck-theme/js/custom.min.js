function hide_compact_header(){$("#branding").hide(),$("#header-nav").removeClass("align-right").addClass("align-center")}function show_compact_header(){$("#branding").fadeIn(800),$("#header-nav").removeClass("align-center").addClass("align-right")}document.addEventListener("readystatechange",function(e){if("interactive"===document.readyState){var a=this.querySelector("#main-header"),n=this.querySelector("#nav-burger");(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<768&&n.classList.add("burger"),"/"!=window.location.pathname||sessionStorage.getItem("main-header")?a&&a.remove():(hide_compact_header(),a.classList.remove("hidden"),sessionStorage.setItem("main-header",a.id))}}),document.addEventListener("DOMContentLoaded",function(){$("#header-nav").css("opacity",1);var e=$("#nav-burger"),a=$("#main-header"),n=$("#scroll-up"),i=$("#site-search-modal"),t=$("#back-to-top"),o=0;function s(){$(window).scrollTop(0),a.children(".site-branding").addClass("hidden").delay(1e3).queue(function(){a.slideUp(800,function(){a.remove()})})}a&&a.children(".site-branding").removeClass("hidden"),inView("article").on("enter",e=>{e.classList.contains("visible")||e.classList.add("visible")}),inView("#main-header").once("exit",e=>{show_compact_header(),0==o&&e.remove()}),$(window).scroll(function(){a.is(":visible")&&s(),t.topBtnToggle({scrollTrigger:1e3})}),$('a[href^="#"]').on("click",function(n){n.preventDefault();var i=$(this).attr("href");"/"==window.location.pathname&&""==window.location.search?(e.hasClass("burger")&&e.click(),o=$(i).offset().top,a.is(":visible")&&(o-=a.outerHeight(!0),a.slideUp(500+o/4,function(){a.remove()})),$("html, body").animate({scrollTop:o},500+o/4)):location.replace("/"+i)}),e.on("click",function(a){e.hasClass("burger")&&(e.toggleClass("active"),$("ul.menu").toggleClass("active"),$(document.body).toggleClass("modal"))}),$(document).on("keyup",function(a){a.preventDefault(),27==a.keyCode&&i.is(":visible")?i.fadeToggle(300):27==a.keyCode&&e.hasClass("active")&&e.click()}),$("#searchform-close").on("click",function(e){var a=i.find("#s");a.val()?a.val(""):i.fadeToggle(300)}),$("#nav-search").on("click",function(e){i.is(":visible")&&i.find("#s").val()?$("#searchform").submit():i.fadeToggle(300)}),t.on("click",function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},800)}),n.on("click",function(e){$(this).fadeOut(600),s()}),navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)&&($("html").addClass("ios"),$("html").addClass("mobile")),navigator.userAgent.search("MSIE")>=0?$("html").addClass("ie"):navigator.userAgent.search("Chrome")>=0?$("html").addClass("chrome"):navigator.userAgent.search("Firefox")>=0?$("html").addClass("firefox"):navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0?$("html").addClass("safari"):navigator.userAgent.search("Opera")>=0&&$("html").addClass("opera")});